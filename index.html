<html>

<head>

<title>Sowing the Seeds of Software</title>

<link REL="SHORTCUT ICON" HREF="assets/images/flower2.jpg"/>
<link rel="stylesheet" href="assets/styles/index.css" type="text/css" media="screen, projection, print"/>

</head>

<body><div id="canvas">

<!--0-------------- HEADER ------------------->

<div id="head">
  <div>
    <div id="title">SOW</div>
    <div id="subtitle">tending project ecology</div>
  </div>
  <div id="formats">
    README <br/> bin <br/> doc <br/> lib <br/> meta <br/> test <br/> ...
  </div>
  <div id="menu">
    <a href="index.html">Overview</a> <br/>
    <a href="plugins.html">Gallery</a> <br/>
    <a href="rdoc/index.html">API</a> <br/>
    <!-- <a href="qedoc/index.html">QEDocs</a> <br/> -->
    <!-- <a href="http://rubyforge.org/projects/proutils">Rubyforge</a> <br/> -->
    <a href="http://github.com/proutils/sow">Development</a> <br/>
    <a href="http://googlegroups/group/proutils/">Mailing List</a>
  </div>
</div>

<div id="main">

<br/><br/>

<!--1--------------- OVERVIEW ------------------->

<div id="overview" class="section">

<h2>Introduction</h2>

<p>Sow is a smart, easy to use, project scaffolding system.
It can generate a large variety of layouts from
a traditional Ruby project to common website starter
setups.</p>

<p>Sow is plug-able. New "<i>seeds</i>" are easy to create
with templates based on eRuby, and easily distributable
if you want to share.</p>

</div>


<!--2--------------- INSTALL ------------------->

<div id="install" class="section">

<h2>Installation</h2>

<p>Install using RubyGems as you would expect:</p>

<pre>
  $ gem install sow
</pre>

<p>Manual site installation can be achieved via Ruby Setup. Please see the
<a href="http://rdoc/README.html">README</a> included in the
<a href="http://">tarball</a> for more information.</p>

</div>


<!--3--------------- USAGE ------------------->

<div id="usage" class="section">

<h2>Usage</h2>

<p>Sow can be used to generate a variety of scaffolding. General usage is as follows:</p>

<pre>
  $ sow &lt;seed&gt; [--option ...] [argument ...][&lt;prop&gt;=&lt;val&gt; ...]
</pre>

<p>To demonstrate the output of the <code>sow</code>, lets create a new Ruby project.</p>

<pre>
  $ sow ruby -o myapp
</pre>

<p>You will see output resembling:</p>

<pre>
  Transferring ruby files to myapp/:

      create  bin
      create  bin/myapp
      create  doc
      create  lib
      create  lib/myapp.rb
      create  test
      create  HISTORY
      create  LICENSE
      create  README

  You need to fix the occurrences of &#8216;__FIX__&#8217; in the following files:

      README
</pre>

<p>When you generate project scaffolding, be sure to go over the contents and fine-tune.
In particular, edit all the files that contain &#8216;#___&#8217; entries, but
be sure to familiarize yourself with all the files produced by a given scaffold.</p>

<p>Now let say we <code>cd myapp</code> and decided to we want to use TestUnit, storing tests in
the <code>test/unit</code> directory and creating an initial empty <code>sample</code> test file,
we could type:</p>

<pre>
  $ sow testunit test/unit sample
</pre>

<p>Sow has a special mode of operation that allow you to  string together any number of seeds
that will be combined into a single operation. For example we may scaffold a new
Ruby project with TestUnit simultaniously:<p/>

<pre>
  $ sow -x ruby -o new_project | sow testunit test/unit sample
</pre>

<p>Using the '-x' option and piping the output to another excution of <code>code</code>
any number of seeds can be merged.</p>

</div>


<!--4--------------- HOE USERS ------------------->

<div id="overview" class="section">

<h2>Hoe Users</h2>

<p>Hoe users will notice that Sow overwrites the <code>sow</code> command that comes
with Hoe. Sow supports Hoe style projects, so there is nothing lost. You
can simply use:</p>

<pre>
  $ sow hoe -o <directory>
</pre>

<p>It is unfortunate that Hoe choose to create an executable outside it's
chosen namespace. <code>hoe</code> would make a perfectly fine executable name.
I toyed with the idea of calling Sow's command +hoe+, but really that
seemed rather silly in the end.</p>

</div>


<!--5--------------- PLUGINS ------------------->

<div id="plugins" class="section">

<h2>Designing Sow Plugins</h2>

<p>Creating your own seed is actually quite easy. You simply need to add
a folder to a Ruby project's loadpath following the naming convention
<code>plugins/sow/&lt;name&gt;/</code>. This folder can be in a dedicated project
or part of another project. Typically your project's loadpath with be under
<code>lib/</code>. Let's say you want to call your plugin <code>mohgee</code>,
so you would have a <code>lib/plugins/sow/mohgee/</code> directory. Alternatively
you can make a separate folder for seeds, and add it's path to your project's
loadpath (though I no longer recommend it). In that case, you might have a folder
like <code>plug/sow/moghee/</code> and would add <code>plug/</code> to the loadpath.</p>

<p>The folder houses a script to instruct Sow how to generate a scaffold, a README
to explain what the seed is all about and a <code>template</codd> directory to hold
files you want to use for your scaffolding. The folder will look like this:</p>

<pre>
  myseed/
    README
    Sowfile
    template/
      ...
</pre>

<p>Only the <code>template</code> directory is strictly neccessary. With a Sowfile all
the files in the <code>template</code> directory will be copied. The Sowfile allows
that process to be refined. And though not strictly necessary, you should alwasy add
a READFILE so other can query sow as to the use of the seed.</p>

<p>The <code>Sowfile</code> instructs Sow on how to conduct the scaffolding.
Essentially, a Sowfile is a small Ruby DSL script which is used to extend a subclass of
Sow::Script. There are only a few methods you need to know in order to create you own
plugin.</p>

<p>To get up to speed quickly on how a <code>Sowfile</code> is constructed, below
is the <code>Sowfile</code> for the built-in license plugin.</p>

<pre>
  LICENSES = %w[gpl lgpl mit]

  setup do |licence, *_|
    lic = (license || 'mit').downcase
    unless LICENSES.include?(lic)
      abort "Unrecognized license name. Choose:\n  " + LICENSES.join("\n  ")
    end
    metadata.license = lic.upcase
  end

  scaffold do
    copy "*", '.', :cd => license.downcase
  end
</pre>

<p>Notice we have specified the main argument via the setup block. This means the first
commandline argument will be assigned to <code>license</code>. In the <code>setup</code>
method we set <code>metadata.license</code> to this argument so that it can be used by
the ERB templates. The <code>scaffold</code> method specifies the transfer instructions
of copying the appropriate contents from the <code>template</code> directory to our
destination directory. The <code>:cd</code> option is a convenience that tells the
copy command to drop down into a template sub-directory before performing the
copy operation.</p>

<p>The layout of the license plugin looks basically like this:</p>

<pre>
  README
  Sowfile
  template/
    gpl/
      COPYING
    lgpl/
      COPYING
      COPYING.lesser
    mit/
      LICENSE
</pre>

<p>So for example, upon invoking <code>sow license lgpl</code>, Sow will copy the
contents of the <code>lgpl</code> subdirectory into our project directory.</p>

<p>The contents of <code>template/</code> do not need any special extension to be
processed by ERB. All files in the template directory are considered ERB
files. To avoid processing via ERB, use the <code>:verbatim => true</code> option
with the <code>copy</code> command.

</div>


<!--6--------------- DEVELOPMENT ------------------->

<div id="development" class="section">

<h2>Development</h2>

<p>Sow is hosted on GitHub and is part of the ProUtils set of projects.</p>

<p><a href="http://github.com/proutils/sow">http://github.com/proutils/sow</a></p>

</div>


<!--7--------------- COPYING ------------------->

<div id="copying" class="section">

<h2>Copying</h2>

<p>Copyright &#169; 2009 Thomas Sawyer</p>

<p>This program is free software: you can redistribute it and/or modify it
under the terms of the GNU General Public License as published by the Free
Software Foundation, either version 3 of the License, or (at your option)
any later version.</p>

<p>This program is distributed in the hope that it will be useful, but WITHOUT
ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
more details.</p>

<p>You should have received a copy of the GNU General Public License along
with this program. If not, see
<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>

</div>

<!--8--------------- NEWS ------------------->

<!--
<div id="news" class="section">

<h2> What's New </h2>

<div style="float: right; color: gray;">2008-07-21</div>

<h3>Two Years?</h3>
<p>Can you believe it's been two years? Over two years since I began this
crazy eyed journey to create the ultimate Ruby build tool. If I had any idea what I was
getting myself into I would likely have ran away screaming, thankful for having saved myself
an extrodinarily amount of <i>time</i>. Thankfully I can finally say that day has
almost arrived. And about time too. I was starting to get worried ;) The final result turned out
to be just a single project, rather three came from the edeavor: Ratch, Sow and Reap.</p>

</div>
-->

<!---------------- FOOTER ------------------>

<div style="text-align: center;">
  <script type="text/javascript"><!--
  google_ad_client = "pub-1126154564663472";
  /* RUBYWORKS 09-10-02 728x90 */
  google_ad_slot = "0788888658";
  google_ad_width = 728;
  google_ad_height = 90;
  //-->
  </script>
  <script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
  </script>
</div>

<div id="copy">
  <a href="http://proutils.github.com/sow">Sow</a>
  Copyright (c) 2009 Thomas Sawyer (trans), all rights reserved.
</div>

</div></body>
</html>

