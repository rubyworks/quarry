---
README: |
  quarry-cucumber(1) - create a cucumber feature
  ==============================================

  ## SYNOPSIS

    `sow cucumber <name> [directory]

  ## DESCRIPTION

  Create a new cucumber feature file. If the project is not yet
  setup for Cucumber then basic setup files will be provided in
  addition to the feature file.

  ## ARGUMENTS

  The cucuumber template takes two arguments.

    * `feature`:
      The name of the new feature (required).

    * `directory`
      The features directory (default `features/`).

  This see will create the step_features and support directories
  each with some minimal starter files to get up moving quickly.

  If you are using a non-standard location for features, always be
  sure to provide it as the second argument.

  ## COPYRIGHT

  Copyright (c) 2010 Thomas Sawyer

  ## SEE ALSO

  quarry(1)

script: |
  # TODO: add starter cucumber.yaml config file
  # TODO: Perhaps add automatic detection of location of features?

  argument :feature #, :default => 'new'
  argument :directory

  let :directory, 'features'  # TODO: way to make this argument() option?

  abort "feature name is required" unless data.feature

  if (output + data.directory).exist?
    copy "___feature___.feature", data.directory, :from=>'features'
  else
    copy "**/*", data.directory, :from=>'features'
  end

  #select :setup do
  #  argument :directory, :default=>'features'
  #  copy "**/*", data.directory, :from=>'features'
  #end

